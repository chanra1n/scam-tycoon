<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Scam Center Tycoon</title>
  <!-- UIkit CSS -->
  <link rel="stylesheet" href="css/uikit.css" />

  <script src="js/lib/chart.js"></script>
  <!-- UIkit JS -->
  <script src="js/lib/uikit.js"></script>
  <script src="js/lib/uikit-icons.js"></script>
  <link rel="stylesheet" href="css/remixicon.css" />
  <link rel="stylesheet" href="css/crt.css">
  <link rel="stylesheet" href="css/vig.css">
  <script src='js/lib/panzoom.js'></script>
  <script src="js/lib/popper.js"></script>
  <script src="js/lib/tippy.js"></script>
  <script src="js/lib/jquery.js"></script>
  <script src="js/lib/jquery-ui.js"></script>
  <style>
    /*add my custom fonts*/

    @font-face {
      font-family: "gamer";
      src: url("fonts/gamer.ttf");
    }

    @font-face {
      font-family: "beeg";
      src: url("fonts/8bitfont.ttf");
    }

    @font-face {
      font-family: "pst";
      src: url("fonts/pst.ttf");
    }

    body,
    html {
      margin: 0;
      padding: 0px;
      width: 100%;
      font-family: 'gamer';
      filter: sepia(1) hue-rotate(45deg);
      user-select: none !important;
      background-color: black;
      height: 100%;
      overflow: hidden;
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(48, 1fr);
      grid-template-rows: repeat(48, 1fr);
      background-color: #ccc;
      width: 100%;
      height: 100%;
      position: relative;
      margin: 0px;
    }

    .grid-item {
      background-color: #e9e9e9;
      outline: 1.5px solid #c3c3c320;
      box-sizing: border-box;
      background-image: url('sprites/city_block.png');
      background-size: 100%;
      background-repeat: no-repeat;
      image-rendering: pixelated;

    }


    #navbar {
      position: absolute;
      bottom: 0;
      z-index: 1000;
      background-color: black;
      box-sizing: border-box;
      width: 98%;
      margin: 1%;
      border-radius: 7.5px;
      font-weight: 900;
      font-size: 20px;
      color: white;
      opacity: 50%;
      vertical-align: middle;
      display: flex;
      padding: 10px;
    }

    #navbar:hover {
      opacity: 100%;
    }

    #navbar button {
      color: white;
      border: none;
      font-size: 20px;
      background-color: transparent;
      border-radius: 100vmin;
      aspect-ratio: 1/1;
      cursor: pointer;
    }

    #topbar {
      position: absolute;
      top: -20%;
      left: 0;
      z-index: 10000;
      background-color: black;
      width: 100%;
      font-weight: 900;
      font-size: 20px;
      vertical-align: middle;
      padding: 0px;
      margin: 0px;
      text-align: right;
      box-sizing: border-box;
      transition: all 1s;
      transition-timing-function: cubic-bezier(0.8, 0, 0, 1);
    }

    #topbar .right p:nth-child(2n) {
      background-color: transparent;
    }

    #topbar .right p:nth-child(2n+1) {
      background-color: #1a1a1a;
    }

    #topbar .right p {
      font-weight: 100;
      font-size: 20px;
      padding: 0px;
      margin: 0px;
      vertical-align: middle;
      display: inline-block;
      padding-left: 10px;
      padding-right: 10px;
      white-space: normal;
      border: 5px solid transparent;
      cursor: pointer;
    }

    #topbar .right p:hover {
      background-color: #1a1a1aa0;
    }

    #topbar .right p i {
      font-size: 14px;
    }

    .tippy-box {
      background-color: #000;
      font-family: 'pst';
      font-size: 9px !important;
      border-radius: 0px;
      box-shadow: 2.5px 2.5px 0px #008000;
    }

    .tippy-box hr {
      padding: 1.5px;
      margin: 0px;
      box-sizing: border-box;
      opacity: 50%;
    }

    .tippy-box h3 {
      color: green;
      font-family: 'pst';
      font-size: 10px;
      border: 1.5px solid;
      padding: 5px;
      text-align: center;
      display: block;
      margin-top: 7.5px;
      margin-bottom: 7.5px;
      cursor: pointer;
    }

    .tippy-box h3:hover {
      box-shadow: 1.5px 1.5px 0px green;
      transform: scale(1.05);
    }

    .tippy-arrow {
      background-color: #000 !important;
      color: #000 !important;
      transform: scale(1.5);
    }

    [data-tippy-root] {
      z-index: 1000000000000000 !important;
    }

    #world-map {
      transition: filter 1s;
      transition-timing-function: cubic-bezier(0.8, 0, 0, 1);
      width: 100%;
      height: 100%;
    }

    #topbar .uk-dropdown {
      background-color: black;
      margin: 0px;
      padding: 5px;
      box-shadow: 5px 5px 0px green;
      text-align: left;
      box-sizing: border-box;
      padding-left: 10px;
      padding-right: 10px;
      padding-top: 0px;
      transition: all 0s !important;
      max-height: 80vh;
      overflow: hidden;
      overflow-y: auto;
      align-items: flex-start;
    }

    .uk-nav {
      transition: all 0s !important;
    }

    #topbar .uk-dropdown hr {
      padding: 1.5px;
      margin: 0px;
      box-sizing: border-box;
      opacity: 50%;
    }

    .building_index_listing_item {
      display: block;
      box-sizing: border-box;
      padding: 5px;
      padding-top: 0px;
      padding-bottom: 7.5px;
      border: 5px solid black;
      border-left: none;
      border-right: 0px;
      border-top: 0px;
      margin: 0px;

    }

    .building_index_listing_item:nth-child(even) {
      background-color: transparent;
    }

    .building_index_listing_item:nth-child(odd) {
      background-color: #1a1a1a;
    }

    #calendar_widget {
      display: block;
      text-align: center;
      aspect-ratio: 1/1;
      box-sizing: border-box;
    }

    #calendar_month {
      display: grid;
      font-size: 12px;
      margin: -2.5px;
      padding: 0px;
      text-align: center;
      align-content: center;
      justify-content: center;
      align-items: end;
      justify-items: center;
      box-sizing: border-box;
    }

    #calendar_day {
      display: grid;
      margin: 0px;
      text-align: center;
      background-color: green;
      color: black;
      align-content: end;
      justify-content: center;
      justify-items: center;
      aspect-ratio: 1/1;
      vertical-align: middle;
      font-size: 32px;
      box-sizing: border-box;
      padding: 5px;
      width: 40px;
      margin-bottom: -100%;
    }

    .scam_options {
      border: 1.5px solid green;
      color: black;
      font-family: 'pst';
      font-size: 8px;
      text-align: center;
      padding: 2.5px;
      padding-top: 5px;
      padding-bottom: 5px;
      background-color: green;
      margin-bottom: 2.5px;
    }

    .employee_bonus_text {
      font-family: 'pst';
      font-size: 10px;
      border: none;
      padding: 2.5px;
      margin: 0px;
      background-color: green;
      color: black;
      margin-bottom: 5px;
      white-space: nowrap;
      display: inline-block;
      width: fit-content;
    }

    .employee_bonus_text h1 {
      display: inline-block;
      font-family: 'gamer';
      font-size: 24px;
      padding: 0px;
      margin: -7.5px;
      color: black;
      margin-left: -5px;
      margin-right: 5px;
    }

    .employee_bonus_text i {
      font-size: 14px;
      display: inline-block;
      margin: 0px;
      color: black;
    }

    .selectascam {
      font-size: 6px;
      margin: 0px;
      padding: 0px;
      color: green;
      margin-bottom: 5px;
      margin-top: 5px;
      font-family: 'pst';
    }

    .selectascamhr {
      margin: 0px;
      padding: 0px;
      margin-bottom: 5px;
      margin-top: 5px;
      opacity: 50%;
    }

    .datapointspan {
      font-family: 'pst';
      font-size: 7px;
      display: block;
      width: 100%;
      background-color: green;
      color: black;
      padding: 5px;
      box-sizing: border-box;
    }

    #datapoint-trade-list,
    #building-index-list,
    #credit-line-list,
    #player-class-list,
    #employee-index-list {

      width: 40%;
      padding-bottom: 10px !important;
    }


    #building-index-list {
      width: 25%;
    }


    .datapoint_trade_listing_item,
    .credit_line_listing_item {

      background-color: #1a1a1a;
      border: 10px solid black;
      border-left: 0;
      border-right: 0;
      width: 100%;
      overflow: hidden;
      border-bottom: 5px;

    }

    .datapoint_trade_listing_item span,
    .credit_line_listing_item span {
      background-color: green;
      color: black;
      margin: 0px;
      padding: 5px;
      display: block;
      width: min-content;
      vertical-align: top;
      white-space: nowrap;
      font-family: 'pst';
      font-size: 6px;
      font-weight: 900;
      padding-top: 3px;
      padding-bottom: 3px;
      margin-bottom: 0px;
    }

    .datapoint_trade_listing_item h3,
    .credit_line_listing_item h3 {
      font-size: 7px;
      color: green;
      font-family: 'pst';
      text-overflow: ellipsis;
      padding: 5px;
      border: 1px solid green;
      margin: 0px;
      display: block;
      border-top: 1px solid green;
      margin-bottom: 2.5px;
    }

    .datapoint_trade_listing_item h4,
    .credit_line_listing_item h4 {
      display: inline-block;
      width: 40%;
      font-family: 'gamer';
      margin: 5px;
      padding: 0px;
      font-size: 20px;
      color: green;
      vertical-align: middle;
      white-space: nowrap;
      margin-top: -5px;
      margin-bottom: 0px;
      margin-right: -5px;
    }

    .credit_line_listing_item h4 {
      width:fit-content;
      margin-right:2.5px;
    }

    .datapoint_trade_listing_item h4 i,
    .credit_line_listing_item h4 i {
      font-size: 10px;
      vertical-align: middle;
    }

    .credit_line_listing_item h4 i {
      font-size: 16px;
    }

    .datapoint_trade_listing_item button,
    .credit_line_listing_item button {
      width: 100%;
      vertical-align: middle;
      padding: 2.5px;
      padding-left: 0px;
      padding-right: 0px;
      border: 1px solid green;
      color: black;
      font-family: 'gamer';
      font-size: 20px;
      background-color: green;
      text-align: center;
      padding-top: 0px;
      cursor: pointer;
      margin-top: 2.5px;
    }

    .datapoint_trade_listing_item button i,
    .credit_line_listing_item button i {
      vertical-align: unset;
      font-weight: 900;
      font-size: 10px;
      margin: 0px;
      padding: 0px;
    }

    #building-index-list h2 {
      font-size: 8px;
      font-family: 'pst';
      display: block;
      margin: 0px;
      padding: 0px;
    }

    .listing_image {
      width: 15px;
      height: 15px;
      vertical-align: middle;
    }

    .listing_id {
      border: none !important;
      margin: 0px !important;
      display: inline !important;
      padding: 0px !important;
    }

    #current_monthly_expenses_display {
      font-family: 'gamer';
      font-size: 25px;
      display: math;
      width: 100%;
      background-color: green;
      color: black;
      box-sizing: border-box;
      margin: 0px;
      padding: 0px;
      font-weight: 900;
      vertical-align: middle;
      border: 5px solid green;
      border-top: 2.5px solid green;
    }

    #current_daily_income_display,
    #current_monthly_income_display {
      font-size: 20px;
      border: 5px solid black;
      margin: 0px;
      border-top: 0px;
      border-bottom: 0px;
    }

    #current_monthly_income_display {
      background-color: transparent;
      color: green;
      border: none;
      opacity: 50%;
      font-size: 16px;
    }

    #income_chart,
    #employee_productivity_chart {
      width: 100% !important;
      border: 1.5px dashed green;
      padding: 5px;
    }



    #player-class-display {
      position: absolute;
      background-color: #000000a0;
      bottom: 0;
      right: 0;
      z-index: 1000;
      margin: 0;
      padding: 15px;
      padding-top: 0px;
      padding-bottom: 5px;
      font-family: 'pst';
      opacity: 80%;
      transform: scale(1);
      transform-origin: bottom right;
      transition: all 0.25s;
    }

    #player-class-display:hover {
      opacity: 100%;
      cursor: pointer;
    }

    #player-class-number {
      margin: 0px;
      padding: 0px;
      font-family: 'gamer';
      transform: scale(1.25);
      filter: drop-shadow(3px 3px 0px black);
      color: green;
    }

    #player-class-list {
      width: 50%;
      background-color: black;
      opacity: 100%;
      font-size: 16px;
      padding: 15px;
      padding-top: 5px;
      padding-bottom: 15px !important;
    }

    #employee-index-list button {
      background-color: black;
      color: green;
      font-family: 'pst';
      border: 2.5px solid green;
      padding: 5px;
      font-size: 7px;
      display: inline-block;
      margin: 7.5px;
      margin-bottom: 2.5px;
      box-sizing: border-box;
      margin-left: 0px;
      margin-right: 0px;
      cursor: pointer;
      width: fit-content;
    }

    .wages {
      font-family: 'gamer';
      display: inline-block;
      width: 40%;
      background-color: black;
      color: green;
      padding: 0px;
      margin: 0px;
      font-size: 16px;
      opacity: 75%;
    }



    #employee_index_div h2 {
      font-size: 10px;
      font-family: 'pst';
      margin: 7.5px;
      display: block;
      padding: 0px;
      margin-left: 0px;
      margin-right: 0px;
    }

    #employee_index_div {
      display: inline-block;
      width: 100%;
      margin-bottom: 2.5px;
    }

    #employee_index_div h2 span {
      color: green;
      font-family: 'gamer';
      font-size: 30px;
      display: inline-block;
      filter: drop-shadow(3px 3px 0px #00800050);
      margin: -5px;
      margin-left: -5px;
      margin-top: -10px;
      margin-bottom: -10px;
    }

    .listing_id {
      font-size: 25px;
      vertical-align: baseline;
    }

    .building_index_listing_item hr {
      width: 60%;
      margin: 2.5px !important;
      margin-left: 0px !important;
      margin-top: 0px !important;
      margin-bottom: 5px !important;
    }

    .uk-dropdown-nav {
      position: sticky;
      top: 0;
      outline: 5px solid black;
      background-color: black !important;
    }

    .credit-listing {
      background-color: #00800050;
      color: black;
      font-family: 'pst';
      padding: 5px;
      display: block;
      margin: 7.5px;
      margin-left: 0px;
      margin-right: 0px;
      border: 1.5px dashed green;
    }

    .credit-listing span {
      background-color: green;
      padding: 5px;
      font-size: 8px;
    }

    .credit-listing h1 {
      font-size: 20px;
      color: black;
      font-family: 'gamer';
      margin: -5px;
      padding: 0px;
      background-color: green;
      display: inline-block;
      border: 5px solid green;
      border-top: 0px;
      vertical-align: top;
      border-bottom: 0px;
    }

    .credit-listing p {
      font-size: 7px !important;
      padding: 0px !important;
      margin: 0px !important;
      color: green !important;
    }

    .credit-listing button {
      background-color: green;
      border: none;
      width: 100%;
      display: block;
      color: black;
      font-family: 'pst';
      font-size: 8px;
      padding: 5px;
      font-weight: 900;
      margin: 5px;
      margin-left: 0px;
      margin-bottom: 0px;
    }

    .credit-listing button span {
      display: inline-flex;
      vertical-align: -webkit-baseline-middle;
      margin: 0px;
      padding: 0px;
    }

    .credit-listing button i {
      font-size: 12px;
      float: left;
    }

    #radio-element {
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 100000;
      font-size: 20px;
      color: black;
      background-color: green;
      padding: 5px;
      padding-left: 7.5px;
      padding-right: 7.5px;
      font-weight: 100;
      border-radius: 0px;
      margin: 7.5px;
      opacity: 75%;
      filter: drop-shadow(4px 4px 0px black);
    }

    #radio-element:hover {
      opacity: 100%;
      cursor: pointer;
    }

    #radio-dropdown {
      margin: 0px;
      width: max-content;
      padding: 10px;
      background-color: black;
      filter: grayscale(1);
      opacity: 100%;
      image-rendering: pixelated;
    }

    #radio-dropdown:hover {
      opacity: 100%;
    }

    #radio-dropdown iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    #radio-link {
      position: absolute;
      bottom: 0;
      left: 0;
      margin: 10px;
      margin-bottom: 0px;
      background-color: black;
      padding: 10px;
      padding-bottom: 2.5px;
      padding-top: 0px;
      opacity: 60%;
    }

    #radio-link:hover {
      opacity: 100%;
    }

    .bigcreditnumber {
      font-size: 30px;
        font-family: 'gamer';
        margin: 0px;
        padding: 0px;
        display: inline-block;
        border: 0px;
        outline: 0px;
        color: green;
        line-height: normal;
    }

    .hire {
      background-color:green!important;
      color:black!important;
    }

    .cashoutbutton {
      width: 100%;
    border: none;
    background-color: green;
    color: black;
    font-family: 'pst';
    padding: 7.5px;
    font-size: 8px;
    margin-bottom:-15px;
    display:block;
    }

    #total_to_pay {
      font-size: 35px;
    border: 1px dashed green;
    padding: 5px;
    padding-top: 0px;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
    white-space: nowrap;
    }

    .ui-dialog {
      background-color: black;
    color: green;
    font-family: 'pst';
    font-size: 10px;
    border: 1.5px dashed green;
    padding: 5px;
    padding-top: 0px;
    padding-bottom: 0px;
    box-sizing: border-box;
    overflow: hidden;
    position: absolute!important;
    top: 50%!important;
    left: 50%!important;
    transform: translate(-50%,-50%);
    padding: 15px;
    border: none;
    filter: drop-shadow(5px 5px 0px green);
    outline: 1000px solid #00800050;
    z-index:10000000000000000000000;
    }

    .ui-dialog-titlebar-close {
      position: absolute;
    right: 0;
    top: 0;
    padding: 10px;
    border: none;
    background-color: transparent;
    color: green;
    font-family: 'pst';
    }

    #cashout-amount {
      border: 1px dashed green;
    background-color: black;
    color: green;
    font-family: 'pst';
    width: 100%;
    padding: 5px;
    font-size: 12px;
    display: block;
    box-sizing: border-box;
    }

    #cashout-button {
      font-family: 'pst';
    width: 100%;
    font-size: 12px;
    display: block;
    background-color: green;
    border: none;
    padding: 7.5px;
    margin: 7.5px;
    box-sizing: border-box;
    margin-left: 0px;
    margin-right: 0px;
    }

    button {
      cursor:pointer;
    }

  </style>
  <link rel="stylesheet" href="css/zones.css">
  <link rel="stylesheet" href="css/buildings.css">
</head>

<body>

  <div id="radio-element">
    <i id="radio-icon" class="ri-radio-fill"></i>
    <div id="radio-dropdown" uk-dropdown>
      <iframe src="https://lofi.cafe"></iframe>
      <a id="radio-link" href="https://lofi.cafe" target="_blank">lofi.cafe</a>
    </div>

  </div>

  <div id="topbar">

    <div style="float:left;position:absolute;overflow:hidden;height:100%;">

      <div style="display:none">
        <select id="building-select">
          <option value="admin-buildings">Call Center</option>
          <option value="office-building">Office Building</option>
          <!-- Add more options as needed -->
        </select>
        <button id="toggle-building-mode"><i class="ri-hammer-fill"></i></button>
      </div>

      <div id="calendar_widget">
        <p id="calendar_month">JAN</p>
        <p id="calendar_day">01</p>
      </div>

    </div>
    <div class="right" style="float:right;display:flex;">
      <p id="player-money"> <i class="ri-money-dollar-circle-fill"></i> 0</p>

      <div id="credit-line-list" uk-dropdown>

        <ul class="uk-nav uk-dropdown-nav"><span style="font-size:17.5px">CURRENT MONTHLY READOUT</span>
          <hr class="selectascamhr">
          <span id="current_daily_income_display">+ $0.00/day</span>
          <span id="current_monthly_income_display">$0/mo.</span>
          <canvas id="income_chart"></canvas>
          <span id="current_monthly_expenses_display"><i class="ri-money-dollar-circle-line"></i> </span>
        </ul>
        <br>
        <h1 style = "    font-family: 'gamer';
        font-size: 15px;
        margin: 0px;
        padding: 0px;
        margin-bottom: 2.5px;">CREDIT REMAINING FOR THIS MONTH</h1>
        <hr>
        <h2 class ="bigcreditnumber" id="spending_limit">$0.00</h2>

        <div id="credit-input-dialog">
          <p>HOW MUCH WOULD YOU LIKE TO CASH OUT?</p>
          <input type="number" id="cashout-amount" />
          <button id="cashout-button" onclick = "creditCashOut(document.getElementById('cashout-amount').value)">CASH OUT</button>
        </div>

        <button class = "cashoutbutton" onclick = "$('#credit-input-dialog').dialog('open');">CASH OUT</button>
        <br>
        <h1 style = "    font-family: 'gamer';
        font-size: 16px;
        margin: 0px;
        padding: 0px;
        margin-bottom: 2.5px;">AMOUNT SPENT + INTEREST RATE</h1>
        <hr>

        <h2 class = "bigcreditnumber" id = "amount_to_pay">$0.00</h2><span style = "opacity:75%;font-size:17.5px;"> +</span>
        <h2 style = "opacity:75%;font-size:27.5px" class = "bigcreditnumber" id = "current_interest">0%</h2>
        <span style = "opacity:75%;font-size:17.5px;"> =</span>

        <br>

        <h2 class = "bigcreditnumber" id = "total_to_pay">$0.00</h2>
        
        <button class = "cashoutbutton" onclick = "payOffDebt()" > PAY OFF DEBT</button>
        <br>
        <ul class="uk-nav uk-dropdown-nav"><span style="font-size:17.5px">AVAILABLE LINES OF CREDIT</span>
          <hr class="selectascamhr">
          <span class="datapointspan" id="credit_blurb" style="font-family:'pst'">DOWN ON YOUR LUCK? GET MONEY FAST,
            OPEN A LINE OF CREDIT! WHAT COULD GO WRONG?</span>
          <div id="credit-line-index-list">

            <div class="credit_line_listing_item">
              <span>L0AN$HARKZ.COM</span>
              <h3>Hey kid, need CA$H fast?</h3>
              <h4><i class="ri-skip-up-fill"></i> $5M/mo.</h4>
              <h4> <i style="font-size:12px" class="ri-discount-percent-fill"></i> 25%</h4>
              <button onclick="selectCreditLine(bank1, this)" >ACCEPT</button>
            </div>

            <div class="credit_line_listing_item">
              <span>DANK OF ABEARICA</span>
              <h3>Infinite growth. No excuses.</h3>
              <h4><i class="ri-skip-up-fill"></i> $1M/mo.</h4>
              <h4> <i style="font-size:12px" class="ri-discount-percent-fill"></i> 10%</h4>
              <button onclick= "selectCreditLine(bank2, this)">ACCEPT</button>
            </div>

            <div class="credit_line_listing_item">
              <span>WASTERCURD</span>
              <h3>For everything money can buy.</h3>
              <h4><i class="ri-skip-up-fill"></i> $500K/mo.</h4>
              <h4> <i style="font-size:12px" class="ri-discount-percent-fill"></i> 7%</h4>
              <button onclick="selectCreditLine(bank3, this)">ACCEPT</button>
            </div>


            <div class="credit_line_listing_item">
              <span>MEESA INC.</span>
              <h3>Everywhere you are.</h3>
              <h4><i class="ri-skip-up-fill"></i> $100K/mo.</h4>
              <h4> <i style="font-size:12px" class="ri-discount-percent-fill"></i> 5%</h4>
              <button onclick="selectCreditLine(bank4, this)">ACCEPT</button>
            </div>

          </div>
        </ul>
      </div>
      <p id="player-datapoints"><i class="ri-database-2-fill"></i> 0</p>
      <div id="datapoint-trade-list" uk-dropdown>
        <ul class="uk-nav uk-dropdown-nav"><span style="font-size:17.5px">AVAILABLE DATACHUNK TRADES</span>
          <hr class="selectascamhr">
          <span class="datapointspan" id="datachunk_blurb" style="font-family:'pst'">DATACHUNKS ARE OBTAINED THROUGH
            TECH SUPPORT SCAMS. THEY CAN BE USED FOR TRADE WITH INTERESTED PARTIES TO EARN HIGHER PAYOUTS.</span>
        </ul>
      </div>
      <p id="employee-count"><i class="ri-user-5-fill"></i> 0</p>
      <div id="employee-index-list" uk-dropdown>
        <ul class="uk-nav uk-dropdown-nav"><span style="font-size:17.5px">YOUR WORKER READOUT</span>
          <hr class="selectascamhr">
          <span class="datapointspan" id="employee_blurb" style="font-family:'pst'">WORKERS HELP YOU EARN MONEY MORE
            FREQUENTLY. THEIR EFFECTIVENESS INCREASES WITH PAY!</span>
        </ul>

        <div id="employee_index_div">

          <span>PRODUCTIVITY BONUS</span>

          <canvas id="employee_productivity_chart"></canvas>

          <hr style="margin-top:7.5px">

          <h2 id="current_employee_count">EMPLOYEES: <span>0</span></h2>
          <h2 id="current_intern_count">INTERNS: <span>0</span></h2>
          <h2 id="current_lawyer_count">LAWYERS: <span>0</span></h2>

        </div>

        <br>
        <span style="display:inline-block;font-size:16px;">HIRE EXTRA EMPLOYEES</span>
        <span class="datapointspan wages" style="font-family:'pst';font-size:6.5px">$3.0K/mo.</span>
        <hr class="selectascamhr">
        <button class="hire" id="hire_10_employees_button" onclick="hireExtraWorkers('employee', 10)">+10</button>
        <button class="hire" id="hire_50_employees_button" onclick="hireExtraWorkers('employee', 50)">+50</button>
        <button class="hire" id="hire_100_employees_button" onclick="hireExtraWorkers('employee', 100)">+100</button>
        <br>
        <button class="fire" id="fire_10_employees_button" onclick="fireExtraWorkers('employee', 10)">-10</button>
        <button class="fire" id="fire_50_employees_button" onclick="fireExtraWorkers('employee', 50)">-50</button>
        <button class="fire" id="fire_100_employees_button" onclick="fireExtraWorkers('employee', 100)">-100</button>

        <br>

        <span style="display:inline-block;font-size:16px;">HIRE INTERNS</span>
        <span class="datapointspan wages" style="font-family:'pst';font-size:6.5px">$1.0K/mo.</span>
        <hr class="selectascamhr">
        <button class="hire" id="hire_10_interns_button" onclick="hireExtraWorkers('intern', 10)">+10</button>
        <button class="hire" id="hire_50_interns_button" onclick="hireExtraWorkers('intern', 50)">+50</button>
        <button class="hire" id="hire_100_interns_button" onclick="hireExtraWorkers('intern', 100)">+100</button>
        <br>
        <button class="fire" id="fire_10_interns_button" onclick="fireExtraWorkers('intern', 10)">-10</button>
        <button class="fire" id="fire_50_interns_button" onclick="fireExtraWorkers('intern', 50)">-50</button>
        <button class="fire" id="fire_100_interns_button" onclick="fireExtraWorkers('intern', 100)">-100</button>
        <br>

        <span style="display:inline-block;font-size:16px;">HIRE LAWYERS</span>
        <span class="datapointspan wages" style="font-family:'pst';font-size:6.5px">$7.5K/mo.</span>
        <hr class="selectascamhr">
        <button class="hire" id="hire_10_lawyers_button" onclick="hireExtraWorkers('lawyer', 10)">+10</button>
        <button class="hire" id="hire_50_lawyers_button" onclick="hireExtraWorkers('lawyer', 50)">+50</button>
        <button class="hire" id="hire_100_lawyers_button" onclick="hireExtraWorkers('lawyer', 100)">+100</button>
        <br>
        <button class="fire" id="fire_10_lawyers_button" onclick="fireExtraWorkers('lawyer', 10)">-10</button>
        <button class="fire" id="fire_50_lawyers_button" onclick="fireExtraWorkers('lawyer', 50)">-50</button>
        <button class="fire" id="fire_100_lawyers_button" onclick="fireExtraWorkers('lawyer', 100)">-100</button>

      </div>
      <p id="building-count"><i class="ri-hotel-fill"></i> 0</p>
      <div id="building-index-list" uk-dropdown>
        <ul class="uk-nav uk-dropdown-nav"><span style="font-size:17.5px">CURRENT PROPERTY INDEX</span>
          <hr class="selectascamhr">
          <span class="datapointspan" id="property_blurb" style="font-family:'pst'">PROPERTIES GENERATE INCOME FOR YOUR
            BUSINESS, BUT INCUR EXPENSES LIKE RENT OR UTILITIES.</span>
        </ul>
      </div>
    </div>

  </div>
  <div id="player-class-display">
    <h1 id="player-class-number">0</h1>
    <div id="player-class-list" uk-dropdown>
      <ul class="uk-nav uk-dropdown-nav"><span style="font-size:17.5px;font-family:'gamer'">CURRENT CLASS
          MODIFIERS</span>
        <hr class="selectascamhr">
        <span class="datapointspan" id="class_blurb" style="font-family:'pst'">AS YOUR BUSINESS GROWS,
          YOUR CLASS LEVEL WILL INCREASE, UNLOCKING NEW ABILITIES AND MODIFIERS.</span>
      </ul>
    </div>

  </div>
  <div id="world-map" class="grid-container"></div>

  <script src="js/custom/functionLibrary.js"></script>
  <script src="js/custom/layoutGen.js"></script>
  <script src="js/custom/buildingMode.js"></script>
  <script src="js/custom/panZoomConfig.js"></script>
  <script src="js/custom/buildingAppearance.js"></script>
  <script src="js/custom/buildingGen.js"></script>
  <script src="js/custom/tippyConfig.js"></script>
  <script src="js/custom/scams.js"></script>
  <script src="js/custom/intervals.js"></script>
  <script src="js/custom/thirdparties.js"></script>
  <script>

    var playerDecidedPay = 100;

    var unlockable_options = `
    <option value="identity_theft">IDENTITY THEFT</option>
        <option value="credit_card">CREDIT CARD</option>
        <option value="tech_support">TECH SUPPORT</option>
        `;


    var player = {
      money: 0,
      income: 0,
      expenses: 0,
      level: 0,
      employees: 0,
      buildings: 0,
      buildingsIndex: [],
      persuasiveness: 0,
      datapoints: 0,
      modifierRate: 0,
      interns: 0,
      lawyers: 0,
      spendingLimit:0,
      creditScore: 0,
      interestRate:0,
      selectedBanks: [],
    };

    function runScam(scam) {
      if (scam === "identity_theft") {
        runIdentityTheftScam();
      } else if (scam === "credit_card") {
        runCreditCardScam();
      } else if (scam === "tech_support") {
        runTechSupportScam();
      } else {
        console.log("error");
      }
    }


    // update the player's balance based on input
    function updateBalance(operation, amount) {

      if (operation === "add") {
        player.money += amount + (amount * player.modifierRate);
        // display player expenses in the current_monthly_expenses_display
        document.getElementById("current_monthly_expenses_display").innerHTML = `- $${player.expenses.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}/mo.`;
      } else if (operation === "subtract") {
        player.money -= amount;
      } else {
        console.log("error");
      }
      // show the amount that's been added or subtracted
      document.getElementById("player-money").innerHTML = `<i class="ri-money-dollar-circle-fill"></i> ${player.money.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
    }



    // update the player's balance based on input
    function updateDatapoints(operation, amount) {

      if (operation === "add") {
        player.datapoints += amount + (amount * player.modifierRate);;
      } else if (operation === "subtract") {
        player.datapoints -= amount;
      } else {
        console.log("error");
      }
      // show the amount that's been added or subtracted
      document.getElementById("player-datapoints").innerHTML = `<i class="ri-database-2-fill"></i> ${player.datapoints.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
    }

    function updateLevel() {
      player.level += 1;
      document.getElementById("player-level").innerHTML = `<i class="ri-shield-fill"></i> ${player.level}`;
    }

    function updateEmployeeCount(operation, amount) {
      if (operation === "add") {
        player.employees += amount;

      } else if (operation === "subtract") {
        player.employees -= amount;

      } else {
        console.log("error");
      }
      document.getElementById("employee-count").innerHTML = `<i class="ri-user-5-fill"></i> ${player.employees}`;
      document.getElementById("current_employee_count").innerHTML = `EMPLOYEES: <span>${player.employees}</span>`;
      //document.getElementById("current_modifier_rate").innerHTML = "+"+player.modifierRate.toFixed(2) + "%";
    }

    function updateInternCount(operation, amount) {
      if (operation === "add") {
        player.interns += amount;

      } else if (operation === "subtract") {
        player.interns -= amount;

      } else {
        console.log("error");
      }
      document.getElementById("current_intern_count").innerHTML = `INTERNS: <span>${player.interns}</span>`;

    }

    function updateLawyerCount(operation, amount) {
      if (operation === "add") {
        player.lawyers += amount;

      } else if (operation === "subtract") {
        player.lawyers -= amount;

      } else {
        console.log("error");
      }
      document.getElementById("current_lawyer_count").innerHTML = `LAWYERS: <span>${player.lawyers}</span>`;

    }

    function updateBuildingCount(operation, amount, buildingID) {
      if (operation === "add") {
        player.buildings += amount;
        player.buildingsIndex.push(buildingID); // Add buildingID to the index
        // get the background image's url from the buildingID square
        var building = document.querySelector(`[data-name="${buildingID}"]`);
        console.log(building.style.backgroundImage);
        document.getElementById("building-index-list").innerHTML += `
    <div class = "building_index_listing_item" id = "${buildingID}_index_listing">
    <img src = "${building.style.backgroundImage.replace('url("', '')}" class = "listing_image">
    <p class = "listing_id" ><i>#</i> ${buildingID.replace('gridsquare_', '')}</p>
    <hr>
    <h2><i class = "ri-building-4-fill" ></i> ${building.dataset.type}</h2>
    <h2> <i title = "Rent [Monthly]" style="font-weight:100;vertical-align:middle;font-size:12px" class="ri-money-dollar-circle-line"></i> <span title = "Rent [Monthly]" style="vertical-align:middle;">-${(parseFloat(building.dataset.rentValue) / 1000).toFixed(1)}K/mo.</span><br</h2>
    </div>
    `;
      } else if (operation === "subtract") {
        player.buildings -= amount;
        const index = player.buildingsIndex.indexOf(buildingID);
        if (index > -1) {
          player.buildingsIndex.splice(index, 1); // Remove buildingID from the index
          // remove the building from the building index list
          document.getElementById(buildingID + "_index_listing").remove();
        }
      } else {
        console.log("error");
      }
      document.getElementById("building-count").innerHTML = `<i class="ri-hotel-fill"></i> ${player.buildings}`;
    }


    function addExpense(amount) {
      player.expenses += amount;
    }

    function removeExpense(amount) {
      player.expenses -= amount;
    }


    function buyBuilding(buildingID, buildingBuyValue) {
      // check if player has enough money to buy building, and if they don't already own it
      // if they do, subtract the cost from their balance and add the building to their index
      // then, update the building's forSale value to false
      if (player.money >= buildingBuyValue && !player.buildingsIndex.includes(buildingID)) {
        updateBalance("subtract", buildingBuyValue);
        updateBuildingCount("add", 1, buildingID);
        // get the element with the data-building-id of the buildingID passed
        console.log(buildingID);
        var building = document.querySelector(`[data-name="${buildingID}"]`);
        // get the data-resale-value of this building
        var buildingResaleValue = building.dataset.resaleValue;
        console.log("building rsale value: " + buildingResaleValue);
        // detect what building this is based on its data-type attribute
        var buildingType = building.dataset.type;
        console.log("building type: " + buildingType);

        if (buildingType === "Call Center") {
          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "sellBuilding('${buildingID}', ${buildingResaleValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> SELL</h3>
        <hr class = "selectascamhr">
        <p class = "selectascam" >ACTIVE SCAM</p>
        <select class = "scam_options" id = "${buildingID}_scam_options">
        <option value="none">CHOOSE A SCAM</option>
        `+ unlockable_options + `
      </select>
        `;
        } else if (buildingType === "Office") {

          var employee_average_hire = Math.floor(Math.random() * 200) + 10;
          // this modifier should be a percentage between 0 and 0.5. rounded to 2 decimal places
          var employee_contributing_modifier = (Math.random()).toFixed(2);

          player.modifierRate += parseFloat(employee_contributing_modifier);

          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "sellBuilding('${buildingID}', ${buildingResaleValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> SELL</h3>
        <hr class = "selectascamhr">
        <p class = "selectascam" >BUILDING BONUS</p>
        <span class = "employee_bonus_text" > <i class = "ri-user-5-fill" ></i> <h1 id = "${buildingID}_emp_contribution" >+${employee_average_hire}</h1></span>
        <span class = "employee_bonus_text" > <i class="ri-discount-percent-fill"></i> <h1 id = "${buildingID}_mod_contribution" >+${employee_contributing_modifier}%</h1>
        `;

          updateEmployeeCount("add", employee_average_hire);

        } else {
          alert('Something went wrong, please try again later.');
        }


        building.style.animation = "pulse 1s infinite";
        document.getElementById('property_blurb').style.display = "none";
      } else {
        alert("You don't have enough money to buy this building!");
      }
    }

    function rentBuilding(buildingID, buildingRentValue) {
      // check if player has enough money to rent building, and if they don't already own it
      // if they do, subtract the cost from their balance and add the building to their index
      // then, update the building's forRent AND forSale value to false
      if (player.money >= buildingRentValue && !player.buildingsIndex.includes(buildingID)) {
        updateBalance("subtract", buildingRentValue);
        updateBuildingCount("add", 1, buildingID);
        addExpense(buildingRentValue);
        // get the element with the data-building-id of the buildingID passed
        console.log(buildingID);

        var building = document.querySelector(`[data-name="${buildingID}"]`);
        // detect what building this is based on its data-type attribute
        var buildingType = building.dataset.type;
        console.log("building type: " + buildingType);

        // get the data-resale-value of this building
        var buildingRentValue = building.dataset.rentValue;
        console.log("building rsale value: " + buildingRentValue);

        if (buildingType === "Call Center") {
          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "exitBuilding('${buildingID}', ${buildingRentValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> CANCEL RENT</h3>
        <hr class = "selectascamhr">
        <p class = "selectascam" >ACTIVE SCAM</p>
        <select class = "scam_options" id = "${buildingID}_scam_options">
        <option value="none">CHOOSE A SCAM</option>
        `+ unlockable_options + `
      </select>
        `;
        } else if (buildingType === "Office") {

          var employee_average_hire = Math.floor(Math.random() * 200) + 10;
          // this modifier should be a percentage between 0 and 0.5. rounded to 2 decimal places
          var employee_contributing_modifier = (Math.random()).toFixed(2);

          player.modifierRate += parseFloat(employee_contributing_modifier);

          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "exitBuilding('${buildingID}', ${buildingRentValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> CANCEL RENT</h3>
        <hr class = "selectascamhr">
        <p class = "selectascam" >BUILDING BONUS</p>
        <span class = "employee_bonus_text" > <i class = "ri-user-5-fill" ></i> <h1 id = "${buildingID}_emp_contribution" >+${employee_average_hire}</h1></span>
        <span class = "employee_bonus_text" > <i class="ri-discount-percent-fill"></i> <h1 id = "${buildingID}_mod_contribution" >+${employee_contributing_modifier}%</h1>
        `;

          updateEmployeeCount("add", employee_average_hire);

        } else {
          alert('Something went wrong, please try again later.');
        }
        building.style.animation = "pulse-rent 1s infinite";
        document.getElementById('property_blurb').style.display = "none";
      } else {
        alert("You can't afford rent!");
      }
    }

    function sellBuilding(buildingID, buildingSellValue) {
      // check if player owns the building
      // if they do, add the sell value to their balance and remove the building from their index
      // then, update the building's forSale value to true
      if (player.buildingsIndex.includes(buildingID)) {
        updateBalance("add", buildingSellValue);
        updateBuildingCount("subtract", 1, buildingID);
        // get the element with the data-building-id of the buildingID passed
        var building = document.querySelector(`[data-name="${buildingID}"]`);
        // get the data-buy-value of this building
        var buildingBuyValue = building.dataset.buyValue;
        var buildingRentValue = building.dataset.rentValue;
        console.log("building buy value: " + buildingBuyValue);
        console.log("building rent value: " + buildingRentValue);
        // detect if this is a restaurant or not, from this building's classList
        var isResturant = Array.from(building.classList).some(cls => cls.includes('restaurant'));
        console.log(building.classList);
        if (isResturant) {
          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "buyBuilding('${buildingID}', ${buildingBuyValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> FOR SALE</h3>
        `;
        } else {
          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "rentBuilding('${buildingID}', ${buildingRentValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-line"></i> FOR RENT</h3>
        <h3 onclick = "buyBuilding('${buildingID}', ${buildingBuyValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> FOR SALE</h3>
        `;
        }
        building.style.animation = "none";
        // if the user has no buildings left, display the blurb again
        if (player.buildingsIndex.length === 0) {
          document.getElementById('property_blurb').style.display = "block";
        }
      } else {
        alert("You already sold this building!");
      }
    }

    function exitBuilding(buildingID, buildingRentValue) {
      // check if player owns the building
      // if they do, add the sell value to their balance and remove the building from their index
      // then, update the building's forSale value to true
      if (player.buildingsIndex.includes(buildingID)) {
        updateBuildingCount("subtract", 1, buildingID);
        removeExpense(buildingRentValue);
        // get the element with the data-building-id of the buildingID passed
        var building = document.querySelector(`[data-name="${buildingID}"]`);
        // get the data-buy-value of this building
        var buildingBuyValue = building.dataset.buyValue;
        var buildingRentValue = building.dataset.rentValue;
        console.log("building buy value: " + buildingBuyValue);
        console.log("building rent value: " + buildingRentValue);
        // detect if this is a restaurant or not, from this building's classList
        var isResturant = Array.from(building.classList).some(cls => cls.includes('restaurant'));
        console.log(building.classList);
        if (isResturant) {
          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "buyBuilding('${buildingID}', ${buildingBuyValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> FOR SALE</h3>
        `;
        } else {

          var buildingType = building.dataset.type;
          console.log("building type: " + buildingType);

          if (buildingType === "Office") {
            console.log(buildingID + "_emp_contribution");
            var employee_average_hire = parseFloat(document.getElementById(buildingID + "_emp_contribution").innerHTML.replace("+", ""));
            var employee_contributing_modifier = document.getElementById(buildingID + "_mod_contribution").innerHTML;
            updateEmployeeCount("subtract", employee_average_hire);
            player.modifierRate -= parseFloat(employee_contributing_modifier.replace("+", "").replace("%", ""));
          }

          document.getElementById(buildingID + "_player_options").innerHTML = `
        <h3 onclick = "rentBuilding('${buildingID}', ${buildingRentValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-line"></i> FOR RENT</h3>
        <h3 onclick = "buyBuilding('${buildingID}', ${buildingBuyValue})" style = "display:block;color:red;vertical-align:middle"><i style = "vertical-align:top" class="ri-money-dollar-circle-fill"></i> FOR SALE</h3>
        `;

        }
        building.style.animation = "none";
        // if the user has no buildings left, display the blurb again
        if (player.buildingsIndex.length === 0) {
          document.getElementById('property_blurb').style.display = "block";
        }
      } else {
        alert("You already sold this building!");
      }
    }

    function initToolbars() {
      document.getElementById("topbar").style.top = "0px";
      document.getElementById("world-map").style.filter = "blur(0px)";
    }

    function initIntervals() {
      setInterval(monthlyInterval);
      setInterval(dailyInterval);
      setInterval(secondlyInterval);
    }

    window.onload = function () {
      initBuildingAppearance();
      updateBalance("add", 500000);
      initToolbars();
      initIntervals();
    };


    var monthlyMillisecondValue = 300000;
    var testMonthlyMillisecondValue = monthlyMillisecondValue / 4;

    var yearlyMillisecondValue = monthlyMillisecondValue * 12;
    var testYearlyMillisecondValue = testMonthlyMillisecondValue * 12;

    var testDailyMillisecondValue = testMonthlyMillisecondValue / 30;
    var dailyMillisecondValue = monthlyMillisecondValue / 30;

    var dailyIncomeData = [];
    var modifierData = [];
    var employeeData = [];

    var secondlyRate = 2500;

    var income_ctx = document.getElementById('income_chart').getContext('2d');
    var income_myChart = new Chart(income_ctx, {
      type: 'line',
      data: {
        labels: "", // Labels are "Day 1", "Day 2", etc.
        datasets: [{
          label: '',
          data: dailyIncomeData,
          backgroundColor: 'black',
          borderColor: 'green',
          borderWidth: 1,
          borderCapStyle: 'square',
          pointStyle: 'rect',
        }]
      },
      options: {
        aspectRatio: 1 / 0.3,
        plugins: {
          title: {
            display: false,
            text: '',
            font: {
              family: 'pst'
            }
          },
          legend: {
            display: false,
            labels: {
              font: {
                family: 'pst'
              }
            }
          },
          tooltip: {
            display: true,
            titleFont: {
              family: 'pst'
            },
            bodyFont: {
              family: 'pst'
            },
            callbacks: {
              label: function (context) {
                var label = context.dataset.label ? (context.dataset.label + ': ') : '';
                label += '$' + context.parsed.y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,') + '/day';
                return label;
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            display: false
          },
          x: {
            beginAtZero: true,
            display: false
          }
        }
      }
    });

    var modifier_ctx = document.getElementById('employee_productivity_chart').getContext('2d');
    var modifier_myChart = new Chart(modifier_ctx, {
      type: 'line',
      data: {
        labels: "", // Labels are "Day 1", "Day 2", etc.
        datasets: [{
          label: '',
          data: modifierData,
          backgroundColor: 'black',
          borderColor: 'green',
          borderWidth: 1,
          borderCapStyle: 'square',
          pointStyle: 'rect',
        }, {
          label: '',
          data: employeeData,
          backgroundColor: 'black',
          borderColor: 'green',
          borderWidth: 1,
          borderCapStyle: 'square',
          pointStyle: 'rect',

        }]
      },
      options: {
        aspectRatio: 1 / 0.3,
        plugins: {
          title: {
            display: false,
            text: '',
            font: {
              family: 'pst'
            }
          },
          legend: {
            display: false,
            labels: {
              font: {
                family: 'pst'
              }
            }
          },
          tooltip: {
            display: true,
            titleFont: {
              family: 'pst'
            },
            bodyFont: {
              family: 'pst'
            },
            callbacks: {
              label: function (context) {
                var label = context.dataset.label ? (context.dataset.label + ': ') : '';

                if (context.datasetIndex === 0) {
                  // Formatting for the first dataset
                  label += '+' + context.parsed.y.toFixed(1) + '%';
                } else if (context.datasetIndex === 1) {
                  // Formatting for the second dataset
                  // Replace this with your desired formatting
                  label += '+' + context.parsed.y + ' EMP.';
                }

                return label;
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            display: false
          },
          x: {
            beginAtZero: true,
            display: false
          }
        }
      }
    });

    var dailyInterval = setInterval(dailyUpdate, dailyMillisecondValue);

    var monthlyInterval = setInterval(monthlyUpdate, monthlyMillisecondValue);

    var secondlyInterval = setInterval(secondlyUpdate, secondlyRate);

    var activeTradeCount = 0;

    function removeTrade() {
      activeTradeCount--;
      if (activeTradeCount === 0) {
        document.getElementById('datachunk_blurb').style.display = "block";
      } else {
        document.getElementById('datachunk_blurb').style.display = "none";
      }
    }

    function sendTradeOffer(company) {
      document.getElementById('datachunk_blurb').style.display = "none";
      activeTradeCount++;
      // get a random trade from the company's trades array
      var randomTrade = company.trades[Math.floor(Math.random() * company.trades.length)];
      // check if the player has already been offered this trade
      if (!randomTrade.offered) {
        // if not, add it to the list
        document.getElementById("datapoint-trade-list").innerHTML += `
        <div class = "datapoint_trade_listing_item" id = "${randomTrade.name.replace(/\s/g, '')}">
        <span>${randomTrade.name}</span>
        <h3>${randomTrade.description}</h3>
        <h4><i class = "ri-money-dollar-circle-fill"></i> ${randomTrade.payout}</h4>
        <h4><i class="ri-time-fill"></i> ${randomTrade.duration} DAYS</h4>
        <button onclick = "acceptTrade('${randomTrade.name.replace(/\s/g, '')}', ${randomTrade.payout}, ${randomTrade.cost})" ><i class="ri-database-2-fill"></i> ${randomTrade.cost} - ACCEPT</button>
        <button style = "color:green;background-color:transparent" onclick = "document.getElementById('${randomTrade.name.replace(/\s/g, '')}').remove();removeTrade();" ><i class="ri-close-fill"></i> DECLINE</button>
        </div>
        `;
        // mark the trade as offered
        randomTrade.offered = true;

        // set a timeout to remove the trade from the list after the duration has passed

        setTimeout(function () {
          document.getElementById(randomTrade.name.replace(/\s/g, '')).remove();
        }, randomTrade.duration * dailyMillisecondValue);

      } else {
        // if the trade has already been offered, don't add it to the list
        console.log("trade already offered");
      }



    }

    function sendTradeOffers() {

      // get a random number between 2 and 3, at the very most.
      var numberOfOffers = Math.floor(Math.random() * (3 - 2 + 1) + 2);
      // get a random number between 0 and 4
      var randomCompanyIndex = Math.floor(Math.random() * (4 - 0 + 1) + 0);
      // get a random company from the thirdPartyCompanies array
      var randomCompany = thirdPartyCompanies[randomCompanyIndex];
      // send a trade offer from the random company
      for (var i = 0; i < numberOfOffers; i++) {
        sendTradeOffer(randomCompany);
      }
    }

    function acceptTrade(name, payout, cost) {
      // check if the player has enough datapoints to accept the trade
      if (player.datapoints >= cost) {
        // if they do, add the payout to their balance and subtract the cost from their datapoints
        updateBalance("add", payout);
        updateDatapoints("subtract", cost);
        // remove the trade from the list
        document.getElementById(name).remove();
        // mark the trade as not offered
        var company = thirdPartyCompanies.find(company => company.name === name);
        var trade = company.trades.find(trade => trade.name === name);
        trade.offered = false;
      } else {
        alert("You don't have enough datapoints to accept this trade!");
      }
    }

    function hireExtraWorkers(workerType, amount) {
      if (workerType === "employee") {

        if (player.money < 3000 * amount) {
          alert("You don't have enough money to hire this many employees!");
        } else {
          updateEmployeeCount("add", amount);
          addExpense(3000 * amount);
          updateBalance("subtract", 3000 * amount);
        }

      } else if (workerType === "intern") {

        if (player.money < 1000 * amount) {
          alert("You don't have enough money to hire this many interns!");
        } else {

          updateInternCount("add", amount);
          addExpense(1000 * amount);
          updateBalance("subtract", 1000 * amount);
        }

      } else if (workerType === "lawyer") {

        if (player.money < 7500 * amount) {
          alert("You don't have enough money to hire this many lawyers!");
        } else {

          updateLawyerCount("add", amount);
          addExpense(7500 * amount);
          updateBalance("subtract", 7500 * amount);
        }


      } else {
        console.log("error");

      }

      document.getElementById('employee-count').innerHTML = `<i class="ri-user-5-fill"></i> ${player.employees + player.interns + player.lawyers}`;

    }

    function fireExtraWorkers(workerType, amount) {
      if (workerType === "employee") {

        if (player.employees < amount) {
          alert("You don't have enough employees to fire this many!");
        } else {
          updateEmployeeCount("subtract", amount);
          removeExpense(3000 * amount);
        }

      } else if (workerType === "intern") {

        if (player.interns < amount) {
          alert("You don't have enough interns to fire this many!");
        } else {

          updateInternCount("subtract", amount);
          removeExpense(1000 * amount);
        }

      } else if (workerType === "lawyer") {

        if (player.lawyers < amount) {
          alert("You don't have enough lawyers to fire this many!");
        } else {

          updateLawyerCount("subtract", amount);
          removeExpense(7500 * amount);
        }
      } else {
        console.log("error");

      }
    }

    //loan shark
    var bank1 = {
      name: "L0n3$hArKz.com",
      spendingLimit: 5000000,
      interestRate: 0.25,
    };

    //dank of abearica
    var bank2 = {
      name: "Dank of Abearica",
      spendingLimit: 1000000,
      interestRate: 0.10,
    };

    //wastercurd
    var bank3 = {
      name: "Wastercurd",
      spendingLimit: 500000,
      interestRate: 0.07,
    };

    //meesa inc
    var bank4 = {
      name: "Meesa Inc.",
      spendingLimit: 100000,
      interestRate: 0.05,
    };

    var banks = [bank1, bank2, bank3, bank4];




    function selectCreditLine(creditLine, button) {
     console.log(creditLine);
     console.log(creditLine.name);
      console.log(creditLine.spendingLimit);
      console.log(creditLine.interestRate);
      player.spendingLimit += creditLine.spendingLimit;
      player.interestRate += creditLine.interestRate;
      console.log(player.spendingLimit);

      document.getElementById('spending_limit').innerHTML = "$"+player.spendingLimit.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      document.getElementById('current_interest').innerHTML = (player.interestRate * 100).toFixed(0) + "%";

      button.innerHTML = "CANCEL ACCOUNT";
      button.onclick = function(){
        cancelCreditLine(creditLine, button);
      };

      player.selectedBanks.push(creditLine);

    }

    function cancelCreditLine(creditLine, button) {
      player.spendingLimit -= creditLine.spendingLimit;
      player.interestRate -= creditLine.interestRate;

      document.getElementById('spending_limit').innerHTML = "$"+player.spendingLimit.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      document.getElementById('current_interest').innerHTML = (player.interestRate * 100).toFixed(0) + "%";

      button.innerHTML = "OPEN ACCOUNT";
      button.onclick = function(){
        selectCreditLine(creditLine, button);
      };

      player.selectedBanks = player.selectedBanks.filter(bank => bank !== creditLine);

    }

    function creditCashOut(amount) {
      if (player.spendingLimit < amount) {
        alert("You don't have enough credit to cash out this amount!");
      } else {
        var numberAmount = parseFloat(amount);
        console.log(numberAmount);
        updateBalance("add", numberAmount);
        player.spendingLimit -= numberAmount;
        document.getElementById('spending_limit').innerHTML = "$"+player.spendingLimit.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        document.getElementById('amount_to_pay').innerHTML = "$"+numberAmount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        document.getElementById('total_to_pay').innerHTML = "$"+parseFloat(numberAmount + (numberAmount * player.interestRate)).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
       $('#credit-input-dialog').dialog('close');
      }
    }


    function resetCreditLineMonthly() {
      // get the banks that the player has selected
      var selectedBanks = player.selectedBanks;
      // for each bank, get the spending limit from that bank
      var spendingLimits = selectedBanks.map(bank => bank.spendingLimit);
      // add up all of the spending limits
      var totalSpendingLimit = spendingLimits.reduce((a, b) => a + b, 0);
      // set the player.spendingLimit to the totalSpendingLimit
      player.spendingLimit = totalSpendingLimit;
      document.getElementById('spending_limit').innerHTML = "$"+player.spendingLimit.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

      // now, let's take the outstanding balance from the element #total_to_pay, and write that value to amount_to_pay. then, add the interest rate to that, to get the new total for #total_to_pay.
      var amountToPay = parseFloat(document.getElementById('total_to_pay').innerHTML.replace("$", "").replace(/,/g, ""));
      document.getElementById('amount_to_pay').innerHTML = "$"+amountToPay.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      document.getElementById('total_to_pay').innerHTML = "$"+parseFloat(amountToPay + (amountToPay * player.interestRate)).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    
    };

    function payOffDebt(){
      var amountToPay = parseFloat(document.getElementById('total_to_pay').innerHTML.replace("$", "").replace(/,/g, ""));
      updateBalance("subtract", amountToPay);
      document.getElementById('spending_limit').innerHTML = "$"+player.spendingLimit.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      document.getElementById('amount_to_pay').innerHTML = "$0.00";
      document.getElementById('total_to_pay').innerHTML = "$0.00";
      resetCreditLineMonthly();
    }


    $( function() {
    $( "#credit-input-dialog" ).dialog({
      autoOpen: false,
    }
    );
  } );




  </script>
</body>

</html>